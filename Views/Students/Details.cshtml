@* @model QuanLyTrungTam.Models.Student

@{
    ViewData["Title"] = "Details";
}

<h1>Details</h1>

<div>
    <h4>Student</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.FullName)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.FullName)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.DateOfBirth)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.DateOfBirth)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Email)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Email)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Username)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Username)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Password)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Password)
        </dd>
    </dl>
</div>
<div>
    <a asp-action="Edit" asp-route-id="@Model?.StudentId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div> *@
@model QuanLyTrungTam.Models.Student

@{
    ViewData["Title"] = "Chi tiết học viên";
}

<div class="container mt-4">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <h1 class="display-5 fw-bold text-primary">
            <i class="bi bi-person-vcard me-2"></i>Chi tiết học viên
        </h1>
        <div>
            <a asp-action="Edit" asp-route-id="@Model.StudentId" class="btn btn-primary me-2">
                <i class="bi bi-pencil-square me-2"></i>Chỉnh sửa
            </a>
            <a asp-action="Index" class="btn btn-outline-primary">
                <i class="bi bi-arrow-left me-2"></i>Quay lại danh sách
            </a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white">
                    <h5 class="mb-0"><i class="bi bi-person-fill me-2"></i>Thông tin cá nhân</h5>
                </div>
                <div class="card-body">
                    <div class="text-center mb-4">
                        <div class="avatar-placeholder rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center bg-light" style="width: 120px; height: 120px;">
                            <i class="bi bi-person-fill" style="font-size: 4rem;"></i>
                        </div>
                        <h4>@Model.FullName</h4>
                        <p class="text-muted">Mã học viên: @Model.StudentId</p>
                    </div>
                    
                    <div class="list-group list-group-flush">
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <span><i class="bi bi-calendar3 me-2"></i>Ngày sinh:</span>
                            <span class="text-muted">@Model.DateOfBirth.ToString("dd/MM/yyyy")</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <span><i class="bi bi-telephone me-2"></i>Số điện thoại:</span>
                            <span class="text-muted">@Model.PhoneNumber</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <span><i class="bi bi-envelope me-2"></i>Email:</span>
                            <span class="text-muted">@Model.Email</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center px-0">
                            <span><i class="bi bi-person-badge me-2"></i>Tên đăng nhập:</span>
                            <span class="text-muted">@Model.Username</span>
                        </div>
                    </div>
                </div>
                <div class="card-footer bg-white">
                    <div class="d-flex justify-content-between">
                        <a asp-action="Edit" asp-route-id="@Model.StudentId" class="btn btn-outline-primary btn-sm w-100 me-2">
                            <i class="bi bi-pencil-square me-2"></i>Chỉnh sửa
                        </a>
                        <a asp-action="Delete" asp-route-id="@Model.StudentId" class="btn btn-outline-danger btn-sm w-100">
                            <i class="bi bi-trash me-2"></i>Xóa học viên
                        </a>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="col-md-8">
            <div class="card shadow-sm mb-4">
                <div class="card-header bg-white">
                    <h5 class="mb-0"><i class="bi bi-journal-check me-2"></i>Khóa học đã đăng ký</h5>
                </div>
                <div class="card-body">
                    <div id="enrollmentList">
                        <!-- Danh sách khóa học sẽ được load bằng AJAX -->
                        <div class="text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Đang tải...</span>
                            </div>
                            <p class="mt-2">Đang tải danh sách khóa học...</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="card shadow-sm">
                <div class="card-header bg-white">
                    <h5 class="mb-0"><i class="bi bi-activity me-2"></i>Hoạt động gần đây</h5>
                </div>
                <div class="card-body">
                    <div class="timeline">
                        <div class="timeline-item">
                            <div class="timeline-item-marker">
                                <div class="timeline-item-marker-text">Hôm nay</div>
                                <div class="timeline-item-marker-indicator bg-primary"></div>
                            </div>
                            <div class="timeline-item-content">
                                <p class="mb-0">Không có hoạt động nào gần đây</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        $(document).ready(function() {
            // Giả lập tải danh sách khóa học đã đăng ký
            setTimeout(function() {
                var studentId = @Model.StudentId;
                // Trong thực tế, bạn sẽ gọi AJAX để lấy danh sách khóa học
                var html = '';
                
                // Giả sử không có khóa học nào
                html = '<div class="text-center py-5">' +
                       '<i class="bi bi-journal-x text-muted" style="font-size: 3rem;"></i>' +
                       '<h5 class="mt-3">Học viên chưa đăng ký khóa học nào</h5>' +
                       '<p class="text-muted">Không có dữ liệu khóa học để hiển thị</p>' +
                       '</div>';
                
                // Cập nhật nội dung
                $("#enrollmentList").html(html);
            }, 1000);
        });
    </script>
    
    <style>
        /* Timeline styling */
        .timeline {
            position: relative;
            padding-left: 1rem;
        }
        
        .timeline-item {
            position: relative;
            padding-bottom: 1rem;
        }
        
        .timeline-item:last-child {
            padding-bottom: 0;
        }
        
        .timeline-item-marker {
            position: absolute;
            left: -1rem;
            width: 1rem;
        }
        
        .timeline-item-marker-text {
            position: absolute;
            width: 6rem;
            color: #a7aeb8;
            font-size: 0.75rem;
            font-weight: 500;
            text-transform: uppercase;
            transform: translateX(-100%);
            margin-left: -1rem;
            margin-top: -0.25rem;
        }
        
        .timeline-item-marker-indicator {
            display: block;
            width: 0.75rem;
            height: 0.75rem;
            border-radius: 100%;
            background-color: #f2f6fc;
            border: 0.25rem solid #fff;
        }
        
        .timeline-item-content {
            padding-left: 0.75rem;
            padding-bottom: 1rem;
            border-left: 1px solid #e3e6ec;
        }
        
        .timeline-item:last-child .timeline-item-content {
            border-left: 0;
        }
    </style>
}
